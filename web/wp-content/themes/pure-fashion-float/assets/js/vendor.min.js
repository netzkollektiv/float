!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Headroom=t()}(this,function(){"use strict";function e(){return"undefined"!=typeof window}function h(e){return(i=e)&&i.document&&9===i.document.nodeType?(i=(n=e).document,o=i.body,s=i.documentElement,{scrollHeight:function(){return Math.max(o.scrollHeight,s.scrollHeight,o.offsetHeight,s.offsetHeight,o.clientHeight,s.clientHeight)},height:function(){return n.innerHeight||s.clientHeight||o.clientHeight},scrollY:function(){return void 0!==n.pageYOffset?n.pageYOffset:(s||o.parentNode||o).scrollTop}}):(t=e,{scrollHeight:function(){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},height:function(){return Math.max(t.offsetHeight,t.clientHeight)},scrollY:function(){return t.scrollTop}});var t,n,o,s,i}function t(e,o,s){var t,n=function(){var t=!1;try{var e={get passive(){t=!0}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){t=!1}return t}(),i=!1,a=h(e),r=a.scrollY(),u={};function l(){var e=Math.round(a.scrollY()),t=a.height(),n=a.scrollHeight();u.scrollY=e,u.lastScrollY=r,u.direction=r<e?"down":"up",u.distance=Math.abs(e-r),u.isOutOfBounds=e<0||n<e+t,u.top=e<=o.offset[u.direction],u.bottom=n<=e+t,u.toleranceExceeded=u.distance>o.tolerance[u.direction],s(u),r=e,i=!1}function c(){i||(i=!0,t=requestAnimationFrame(l))}var d=!!n&&{passive:!0,capture:!1};return e.addEventListener("scroll",c,d),l(),{destroy:function(){cancelAnimationFrame(t),e.removeEventListener("scroll",c,d)}}}function n(e){return e===Object(e)?e:{down:e,up:e}}function o(e,t){t=t||{},Object.assign(this,o.options,t),this.classes=Object.assign({},o.options.classes,t.classes),this.elem=e,this.tolerance=n(this.tolerance),this.offset=n(this.offset),this.initialised=!1,this.frozen=!1}return o.prototype={constructor:o,init:function(){return o.cutsTheMustard&&!this.initialised&&(this.addClass("initial"),this.initialised=!0,setTimeout(function(e){e.scrollTracker=t(e.scroller,{offset:e.offset,tolerance:e.tolerance},e.update.bind(e))},100,this)),this},destroy:function(){this.initialised=!1,Object.keys(this.classes).forEach(this.removeClass,this),this.scrollTracker.destroy()},unpin:function(){!this.hasClass("pinned")&&this.hasClass("unpinned")||(this.addClass("unpinned"),this.removeClass("pinned"),this.onUnpin&&this.onUnpin.call(this))},pin:function(){this.hasClass("unpinned")&&(this.addClass("pinned"),this.removeClass("unpinned"),this.onPin&&this.onPin.call(this))},freeze:function(){this.frozen=!0,this.addClass("frozen")},unfreeze:function(){this.frozen=!1,this.removeClass("frozen")},top:function(){this.hasClass("top")||(this.addClass("top"),this.removeClass("notTop"),this.onTop&&this.onTop.call(this))},notTop:function(){this.hasClass("notTop")||(this.addClass("notTop"),this.removeClass("top"),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){this.hasClass("bottom")||(this.addClass("bottom"),this.removeClass("notBottom"),this.onBottom&&this.onBottom.call(this))},notBottom:function(){this.hasClass("notBottom")||(this.addClass("notBottom"),this.removeClass("bottom"),this.onNotBottom&&this.onNotBottom.call(this))},shouldUnpin:function(e){return"down"===e.direction&&!e.top&&e.toleranceExceeded},shouldPin:function(e){return"up"===e.direction&&e.toleranceExceeded||e.top},addClass:function(e){this.elem.classList.add.apply(this.elem.classList,this.classes[e].split(" "))},removeClass:function(e){this.elem.classList.remove.apply(this.elem.classList,this.classes[e].split(" "))},hasClass:function(e){return this.classes[e].split(" ").every(function(e){return this.classList.contains(e)},this.elem)},update:function(e){e.isOutOfBounds||!0!==this.frozen&&(e.top?this.top():this.notTop(),e.bottom?this.bottom():this.notBottom(),this.shouldUnpin(e)?this.unpin():this.shouldPin(e)&&this.pin())}},o.options={tolerance:{up:0,down:0},offset:0,scroller:e()?window:null,classes:{frozen:"headroom--frozen",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},o.cutsTheMustard=!!(e()&&function(){}.bind&&"classList"in document.documentElement&&Object.assign&&Object.keys&&requestAnimationFrame),o}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"function"==typeof require?e(require("jquery")):e(jQuery)}(function(h){"use strict";var n={escapeRegExChars:function(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},createNode:function(e){var t=document.createElement("ul");return t.classList.add(e),t.classList.add("product_list_widget"),t.style.display="none",t}},o=27,s=9,i=13,a=38,r=39,u=40,e=h.noop;function l(e,t){var n=this;n.element=e,n.el=h(e),n.suggestions=[],n.badQueries=[],n.selectedIndex=-1,n.currentValue=n.element.value,n.timeoutId=null,n.cachedResponse={},n.onChangeTimeout=null,n.onChange=null,n.isLocal=!1,n.suggestionsContainer=null,n.noSuggestionsContainer=null,n.options=h.extend({},l.defaults,t),n.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},n.hint=null,n.hintValue="",n.selection=null,n.initialize(),n.setOptions(t)}l.utils=n,(h.Autocomplete=l).defaults={ajaxSettings:{},autoSelectFirst:!1,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:function(e,t){if(!t)return e.value;t="("+n.escapeRegExChars(t)+")";return e.value.replace(new RegExp(t,"gi"),"<strong>$1</strong>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&lt;(\/?strong)&gt;/g,"<$1>")},formatGroup:function(e,t){return'<div class="autocomplete-group">'+t+"</div>"},delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:e,onSearchComplete:e,onSearchError:e,preserveInput:!1,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function(e,t,n){return-1!==e.value.toLowerCase().indexOf(n)},paramName:"query",transformResult:function(e){return"string"==typeof e?h.parseJSON(e):e},showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1},l.prototype={initialize:function(){var e,t=this,n="."+t.classes.suggestion,o=t.classes.selected,s=t.options;t.element.setAttribute("autocomplete","off"),t.noSuggestionsContainer=h('<div class="autocomplete-no-suggestion post"></div>').html(this.options.noSuggestionNotice).get(0),t.suggestionsContainer=l.utils.createNode(s.containerClass),(e=h(t.suggestionsContainer)).appendTo(s.appendTo||"body"),"auto"!==s.width&&e.css("width",s.width),e.on("mouseover.autocomplete",n,function(){t.activate(h(this).data("index"))}),e.on("mouseout.autocomplete",function(){t.selectedIndex=-1,e.children("."+o).removeClass(o)}),e.on("click.autocomplete",n,function(){t.select(h(this).data("index"))}),e.on("click.autocomplete",function(){clearTimeout(t.blurTimeoutId)}),t.fixPositionCapture=function(){t.visible&&t.fixPosition()},h(window).on("resize.autocomplete",t.fixPositionCapture),t.el.on("keydown.autocomplete",function(e){t.onKeyPress(e)}),t.el.on("keyup.autocomplete",function(e){t.onKeyUp(e)}),t.el.on("blur.autocomplete",function(){t.onBlur()}),t.el.on("focus.autocomplete",function(){t.onFocus()}),t.el.on("change.autocomplete",function(e){t.onKeyUp(e)}),t.el.on("input.autocomplete",function(e){t.onKeyUp(e)})},onFocus:function(){var e=this;e.disabled||(e.fixPosition(),e.el.val().length>=e.options.minChars&&e.onValueChange())},onBlur:function(){var e=this,t=e.options,n=e.el.val(),o=e.getQuery(n);e.blurTimeoutId=setTimeout(function(){e.hide(),e.selection&&e.currentValue!==o&&(t.onInvalidateSelection||h.noop).call(e.element)},200)},abortAjax:function(){this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null)},setOptions:function(e){var t=this,n=t.options;this.options=h.extend({},n,e),t.isLocal=h.isArray(n.lookup),t.isLocal&&(n.lookup=t.verifySuggestionsFormat(n.lookup)),n.orientation=t.validateOrientation(n.orientation,"bottom")},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){this.disabled=!0,clearTimeout(this.onChangeTimeout),this.abortAjax()},enable:function(){this.disabled=!1},fixPosition:function(){var e,t,n,o,s,i,a,r,u=this,l=h(u.suggestionsContainer),c=l.parent().get(0);c!==document.body&&!u.options.forceFixPosition||(a=u.options.orientation,e=l.outerHeight(),r=u.el.outerHeight(),t={top:(i=u.el.offset()).top,left:i.left},"auto"===a&&(n=h(window).height(),s=-(o=h(window).scrollTop())+i.top-e,i=o+n-(i.top+r+e),a=Math.max(s,i)===s?"top":"bottom"),t.top+="top"===a?-e:r,c!==document.body&&(r=l.css("opacity"),u.visible||l.css("opacity",0).show(),c=l.offsetParent().offset(),t.top-=c.top,t.left-=c.left,u.visible||l.css("opacity",r).hide()),"auto"===u.options.width&&(t.width=u.el.outerWidth()+"px"),l.css(t))},isCursorAtEnd:function(){var e=this.el.val().length,t=this.element.selectionStart;return"number"==typeof t?t===e:!document.selection||((t=document.selection.createRange()).moveStart("character",-e),e===t.text.length)},onKeyPress:function(e){var t=this;if(t.disabled||t.visible||e.which!==u||!t.currentValue){if(!t.disabled&&t.visible){switch(e.which){case o:t.el.val(t.currentValue),h(".results-found").remove(),t.hide();break;case r:if(t.hint&&t.options.onHint&&t.isCursorAtEnd()){t.selectHint();break}return;case s:if(t.hint&&t.options.onHint)return void t.selectHint();if(-1===t.selectedIndex)return void t.hide();if(t.select(t.selectedIndex),!1===t.options.tabDisabled)return;break;case i:if(-1===t.selectedIndex)return void t.hide();t.select(t.selectedIndex);break;case a:t.moveUp();break;case u:t.moveDown();break;default:return}e.stopImmediatePropagation(),e.preventDefault()}}else t.suggest()},onKeyUp:function(e){var t=this;if(!t.disabled){switch(e.which){case a:case u:return}clearTimeout(t.onChangeTimeout),t.currentValue!==t.el.val()&&(t.findBestHint(),0<t.options.deferRequestBy?t.onChangeTimeout=setTimeout(function(){t.onValueChange()},t.options.deferRequestBy):t.onValueChange())}},onValueChange:function(){var e=this,t=e.options,n=e.el.val(),o=e.getQuery(n);e.selection&&e.currentValue!==o&&(e.selection=null,(t.onInvalidateSelection||h.noop).call(e.element)),clearTimeout(e.onChangeTimeout),e.currentValue=n,e.selectedIndex=-1,t.triggerSelectOnValidInput&&e.isExactMatch(o)?e.select(0):o.length<t.minChars?e.hide():e.getSuggestions(o)},isExactMatch:function(e){var t=this.suggestions;return 1===t.length&&t[0].value.toLowerCase()===e.toLowerCase()},getQuery:function(e){var t=this.options.delimiter;return t?(t=e.split(t),h.trim(t[t.length-1])):e},getSuggestionsLocal:function(t){var e=this.options,n=t.toLowerCase(),o=e.lookupFilter,s=parseInt(e.lookupLimit,10),e={suggestions:h.grep(e.lookup,function(e){return o(e,t,n)})};return s&&e.suggestions.length>s&&(e.suggestions=e.suggestions.slice(0,s)),e},getSuggestions:function(o){var e,t,n,s=this,i=s.options,a=i.serviceUrl;i.params[i.paramName]=o,!1!==i.onSearchStart.call(s.element,i.params)&&(n=i.ignoreParams?null:i.params,h.isFunction(i.lookup)?i.lookup(o,function(e){s.suggestions=e.suggestions,s.suggest(),i.onSearchComplete.call(s.element,o,e.suggestions)}):(e=s.isLocal?s.getSuggestionsLocal(o):(h.isFunction(a)&&(a=a.call(s.element,o)),t=a+"?"+h.param(n||{}),s.cachedResponse[t]))&&h.isArray(e.suggestions)?(s.suggestions=e.suggestions,s.suggest(),i.onSearchComplete.call(s.element,o,e.suggestions)):s.isBadQuery(o)?i.onSearchComplete.call(s.element,o,[]):(s.abortAjax(),n={url:a,data:n,type:i.type,dataType:i.dataType},h.extend(n,i.ajaxSettings),s.currentRequest=h.ajax(n).done(function(e){s.currentRequest=null,e=i.transformResult(e,o),s.processResponse(e,o,t),i.onSearchComplete.call(s.element,o,e.suggestions)}).fail(function(e,t,n){i.onSearchError.call(s.element,o,e,t,n)})))},isBadQuery:function(e){if(!this.options.preventBadQueries)return!1;for(var t=this.badQueries,n=t.length;n--;)if(0===e.indexOf(t[n]))return!0;return!1},hide:function(){var e=this,t=h(e.suggestionsContainer);h.isFunction(e.options.onHide)&&e.visible&&e.options.onHide.call(e.element,t),e.visible=!1,e.selectedIndex=-1,clearTimeout(e.onChangeTimeout),h(e.suggestionsContainer).hide(),e.signalHint(null)},suggest:function(){var e,s,i,a,r,u,t,n,o,l,c,d;this.suggestions.length?(s=(e=this).options,i=s.groupBy,a=s.formatResult,r=e.getQuery(e.currentValue),u=e.classes.suggestion,t=e.classes.selected,n=h(e.suggestionsContainer),o=h(e.noSuggestionsContainer),l=s.beforeRender,c="",s.triggerSelectOnValidInput&&e.isExactMatch(r)?e.select(0):(h.each(e.suggestions,function(e,t){var n,o;i&&(c+=(o=(n=t).data[i],d===o?"":(d=o,s.formatGroup(n,d)))),c+='<li class="'+u+'" data-index="'+e+'">'+a(t,r,e)+"</li>"}),this.adjustContainerWidth(),o.detach(),n.html(c),h.isFunction(l)&&l.call(e.element,n,e.suggestions),e.fixPosition(),n.show(),s.autoSelectFirst&&(e.selectedIndex=0,n.scrollTop(0),n.children("."+u).first().addClass(t)),e.visible=!0,e.findBestHint())):this.options.showNoSuggestionNotice?this.noSuggestions():this.hide()},noSuggestions:function(){var e=this,t=e.options.beforeRender,n=h(e.suggestionsContainer),o=h(e.noSuggestionsContainer);this.adjustContainerWidth(),o.detach(),h(".results-found").remove(),n.empty(),n.append(o),h.isFunction(t)&&t.call(e.element,n,e.suggestions),e.fixPosition(),n.show(),e.visible=!0},adjustContainerWidth:function(){var e,t=this.options,n=h(this.suggestionsContainer);"auto"===t.width?(e=this.el.outerWidth(),n.css("width",0<e?e:300)):"flex"===t.width&&n.css("width","")},findBestHint:function(){var o=this.el.val().toLowerCase(),s=null;o&&(h.each(this.suggestions,function(e,t){var n=0===t.value.toLowerCase().indexOf(o);return n&&(s=t),!n}),this.signalHint(s))},signalHint:function(e){var t="",n=this;e&&(t=n.currentValue+e.value.substr(n.currentValue.length)),n.hintValue!==t&&(n.hintValue=t,n.hint=e,(this.options.onHint||h.noop)(t))},verifySuggestionsFormat:function(e){return e.length&&"string"==typeof e[0]?h.map(e,function(e){return{value:e,data:null}}):e},validateOrientation:function(e,t){return e=h.trim(e||"").toLowerCase(),e=-1===h.inArray(e,["auto","bottom","top"])?t:e},processResponse:function(e,t,n){var o=this,s=o.options;e.suggestions=o.verifySuggestionsFormat(e.suggestions),s.noCache||(o.cachedResponse[n]=e,s.preventBadQueries&&!e.suggestions.length&&o.badQueries.push(t)),t===o.getQuery(o.currentValue)&&(o.suggestions=e.suggestions,o.suggest())},activate:function(e){var t=this,n=t.classes.selected,o=h(t.suggestionsContainer),s=o.find("."+t.classes.suggestion);return o.find("."+n).removeClass(n),t.selectedIndex=e,-1!==t.selectedIndex&&s.length>t.selectedIndex?(t=s.get(t.selectedIndex),h(t).addClass(n),t):null},selectHint:function(){var e=h.inArray(this.hint,this.suggestions);this.select(e)},select:function(e){this.hide(),this.onSelect(e)},moveUp:function(){var e=this;if(-1!==e.selectedIndex)return 0===e.selectedIndex?(h(e.suggestionsContainer).children().first().removeClass(e.classes.selected),e.selectedIndex=-1,e.el.val(e.currentValue),void e.findBestHint()):void e.adjustScroll(e.selectedIndex-1)},moveDown:function(){this.selectedIndex!==this.suggestions.length-1&&this.adjustScroll(this.selectedIndex+1)},adjustScroll:function(e){var t,n,o,s=this,i=s.activate(e);i&&(t=h(i).outerHeight(),n=i.offsetTop,i=(o=h(s.suggestionsContainer).scrollTop())+s.options.maxHeight-t,n<o?h(s.suggestionsContainer).scrollTop(n):i<n&&h(s.suggestionsContainer).scrollTop(n-s.options.maxHeight+t),s.options.preserveInput||s.el.val(s.getValue(s.suggestions[e].value)),s.signalHint(null))},onSelect:function(e){var t=this,n=t.options.onSelect,e=t.suggestions[e];t.currentValue=t.getValue(e.value),t.currentValue===t.el.val()||t.options.preserveInput||t.el.val(t.currentValue),t.signalHint(null),t.suggestions=[],t.selection=e,h.isFunction(n)&&n.call(t.element,e)},getValue:function(e){var t,n=this.options.delimiter;return!n||1===(n=(t=this.currentValue).split(n)).length?e:t.substr(0,t.length-n[n.length-1].length)+e},dispose:function(){this.el.off(".autocomplete").removeData("autocomplete"),h(window).off("resize.autocomplete",this.fixPositionCapture),h(this.suggestionsContainer).remove()}},h.fn.devbridgeAutocomplete=function(n,o){var s="autocomplete";return arguments.length?this.each(function(){var e=h(this),t=e.data(s);"string"==typeof n?t&&"function"==typeof t[n]&&t[n](o):(t&&t.dispose&&t.dispose(),t=new l(this,n),e.data(s,t))}):this.first().data(s)},h.fn.autocomplete||(h.fn.autocomplete=h.fn.devbridgeAutocomplete)}),function(s){s&&(s.fn.headroom=function(o){return this.each(function(){var e=s(this),t=e.data("headroom"),n="object"==typeof o&&o,n=s.extend(!0,{},Headroom.options,n);t||((t=new Headroom(this,n)).init(),e.data("headroom",t)),"string"==typeof o&&(t[o](),"destroy"===o&&e.removeData("headroom"))})},s("[data-headroom]").each(function(){var e=s(this);e.headroom(e.data())}))}(window.Zepto||window.jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.hoverIntent&&e(jQuery)}(function(u){"use strict";function l(e){s=e.pageX,i=e.pageY}var s,i,a={interval:100,sensitivity:6,timeout:0},c=0,d=function(e,t,n,o){if(Math.sqrt((n.pX-s)*(n.pX-s)+(n.pY-i)*(n.pY-i))<o.sensitivity)return t.off(n.event,l),delete n.timeoutId,n.isActive=!0,e.pageX=s,e.pageY=i,delete n.pX,delete n.pY,o.over.apply(t[0],[e]);n.pX=s,n.pY=i,n.timeoutId=setTimeout(function(){d(e,t,n,o)},o.interval)};u.fn.hoverIntent=function(e,t,n){var o=c++,r=u.extend({},a);u.isPlainObject(e)?(r=u.extend(r,e),u.isFunction(r.out)||(r.out=r.over)):r=u.isFunction(t)?u.extend(r,{over:e,out:t,selector:n}):u.extend(r,{over:e,out:e,selector:t});t=function(e){var s=u.extend({},e),i=u(this),t=i.data("hoverIntent");t||i.data("hoverIntent",t={});var a=t[o];a||(t[o]=a={id:o}),a.timeoutId&&(a.timeoutId=clearTimeout(a.timeoutId));t=a.event="mousemove.hoverIntent.hoverIntent"+o;"mouseenter"===e.type?a.isActive||(a.pX=s.pageX,a.pY=s.pageY,i.off(t,l).on(t,l),a.timeoutId=setTimeout(function(){d(s,i,a,r)},r.interval)):a.isActive&&(i.off(t,l),a.timeoutId=setTimeout(function(){var e,t,n,o;e=s,t=i,n=a,o=r.out,delete t.data("hoverIntent")[n.id],o.apply(t[0],[e])},r.timeout))};return this.on({"mouseenter.hoverIntent":t,"mouseleave.hoverIntent":t},r.selector)}});